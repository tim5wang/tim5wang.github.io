(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-6302"],{MgkO:function(t,e,n){"use strict";n.r(e);var a=n("QbLZ"),i=n.n(a),o=n("vDqi"),r=n.n(o),s=n("L2JU"),d=n("X4fA"),c=n("NLix"),u={name:"Markdown",data:function(){return{height:document.documentElement.clientHeight-200+"px",data:null,images:{}}},computed:i()({},Object(s.b)(["imagesUploadApi"])),mounted:function(){this.$refs.md.$refs.toolbar_left.img_file=[]},methods:{imgAdd:function(t,e){var n=this,a=new FormData;a.append("file",e),r()({url:this.imagesUploadApi,method:"post",data:a,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+Object(d.a)()}}).then(function(e){n.data=e.data,n.$refs.md.$img2Url(t,n.data.data[0]),n.images[n.data.data[0]]=n.data}).catch(function(e){console.log("image upload error",e),n.$refs.md.$refs.toolbar_left.$imgDel(t)})},imgDel:function(t,e){var n=this.images[t[1]];n&&Object(c.a)(n.id).then(function(t){}).catch(function(t){console.log(t.response.data.message)})}}},l=(n("uQk/"),n("KHd+")),m=Object(l.a)(u,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"app-container"},[this._m(0),this._v(" "),e("mavon-editor",{ref:"md",style:"height:"+this.height,on:{imgAdd:this.imgAdd,imgDel:this.imgDel}})],1)},[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"warn-content"},[this._v("\n    Markdown 基于\n    "),e("a",{attrs:{href:"https://github.com/hinesboy/mavonEditor",target:"_blank"}},[this._v("mavonEditor")])])}],!1,null,"65f5da60",null);m.options.__file="MarkDown.vue";e.default=m.exports},NLix:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var a=n("t3Un");function i(t){return Object(a.a)({url:"api/pictures/"+t,method:"delete"})}},YyTH:function(t,e,n){},"uQk/":function(t,e,n){"use strict";var a=n("YyTH");n.n(a).a}}]);